<!DOCTYPE html>
<html>
        <head><title>Recipes</title><link rel="stylesheet" href="../screen.css" type="text/css" media="screen, projection"></link><link rel="stylesheet" href="../print.css" type="text/css" media="print"></link><!--[if lt IE 8]><link rel="stylesheet" href="../ie.css" type="text/css" media="screen, projection"><![endif]--><link href="../prettify.css" rel="stylesheet" type="text/css"></link><script type="text/javascript" src="../prettify.js"></script><style> 
        /* Overriding a few defaults from blueprint. */
        body {
          background:#43180D;
          font-size:100%; color: #f2e5ca;
          font-family: Times, serif;
        }
        h1, h2, h3, h4, h5, h6 {
          font-weight:normal;font-family: Georgia, Times, serif;
          color: #f2e5ca;
        }
        /* 3, 2, 1.5, 1.2 */
        h1 {font-size:3em;line-height:1;margin-bottom:0.5em;}
        h2 {font-size:2em;margin-bottom:0.75em;}
        h3 {font-size:1.5em;line-height:1;margin-bottom:1em;}
        h4 {font-size:1em;line-height:1.25;margin-bottom:1.25em;}
        h5 {font-size:1em;font-weight:bold;margin-bottom:1.5em;}
        h6 {font-size:1em;font-weight:bold;}
        
        a:focus, a:hover {color: #CEA162; text-decoration: underline; }
        a {color:#CEA162;text-decoration:none;}

        code { text-transform: none; }

        /* Style the code blocks */
        pre {
          color: #f2e5ca;
          border: solid #180A07 1px;
          border-right: 0;
          border-left-width: 1em;
          padding-left: 1em;
        }
        .str { color:rgb( 237, 239, 125 ); font-style:italic }
        .kwd { color:rgb( 152, 129, 85 ); }
        .com { color:#999 }
        .typ { color:rgb( 255, 101, 33 ); }
        .lit { color:rgb( 112, 83, 147 ); }
        .pun { color:#aaa; font-weight:bold  }
        .pln { color:#f2e5ca }
        .tag { color:rgb( 137, 150, 168 ); font-weight:bold  }
        .atn { color:#939; font-weight:bold  }
        .atv { color:#181 }
        .dec { color:#606 }

        /* Custom styling */
        .container { float: left; margin-top: 0em; } /* 7f2f18 */
        .header { color: #f2e5ca; 
          text-transform:uppercase; margin-bottom: 2em; vertical-align: center;
        }
        a:focus, a:hover {  background: #43180D; }
        .header ul { list-style-type: none; margin: 0; padding: 0; }
        .header ul li { display: inline; padding-right: 2em; }

        .nav .current { background: #43180D; border-left: .3em solid #000; }
    		.nav li { padding-left: .3em; padding-right: 3px; }
    		.nav hr { background: #43180D; }
    		
    		hr { background: #000; }
         </style></head>
        <body onload="prettyPrint()" class="container"><div class="section">
      <div class="header span-22 prepend-1 append-1 last">
      <ul style="list-style-type: none">
            <li><a href="../../..">tristan hunt.com</a></li>
            <li>knockoff</li>
        </ul>
    </div>
      <div class="nav small span-7 prepend-1"><ul id="tabs">
      <li class="current">Documentation</li>
      <li>
        <a href="../com/tristanhunt/knockoff/ColoredLogger.scala.html">Sources</a></li>
    </ul><hr></hr><ul><li >
            <a href="../01-Introduction.html">
              Welcome to Knockoff
            </a>
          </li><li>
            <span class="group">Usage</span>
            <ul>
              <li >
            <a href="../10-Usage/01-Getting_Started.html">
              Getting Started
            </a>
          </li><li class="current">
            <a href="../10-Usage/02-Recipes.html">
              Recipes
            </a>
          </li><li >
            <a href="../10-Usage/50-Variations.html">
              Where Knockoff is not like Markdown
            </a>
          </li>
            </ul>
          </li><li>
            <span class="group">Implementation</span>
            <ul>
              <li >
            <a href="../30-Implementation/01-Discounter_DefaultDiscounter_Wholesaler.html">
              Discounter and the Wholesaler
            </a>
          </li><li >
            <a href="../30-Implementation/02-Block_Elements.html">
              Block Elements
            </a>
          </li><li >
            <a href="../30-Implementation/03-Span_Elements.html">
              Spanning Elements
            </a>
          </li><li >
            <a href="../30-Implementation/04-ElementFactory.html">
              ElementFactory
            </a>
          </li><li>
            <span class="group">Parsing</span>
            <ul>
              <li >
            <a href="../30-Implementation/10-Parsing/01-Parsing.html">
              Parsing Overview
            </a>
          </li><li >
            <a href="../30-Implementation/10-Parsing/10-ChunkStreamFactory.html">
              ChunkStreamFactory
            </a>
          </li><li >
            <a href="../30-Implementation/10-Parsing/11-ChunkParsers.html">
              ChunkParsers
            </a>
          </li><li >
            <a href="../30-Implementation/10-Parsing/12-Chunk_Types.html">
              Chunk Types
            </a>
          </li><li >
            <a href="../30-Implementation/10-Parsing/20-Span_Conversion.html">
              Span Conversion
            </a>
          </li>
            </ul>
          </li><li>
            <span class="group">Extras</span>
            <ul>
              <li >
            <a href="../30-Implementation/30-Extras/02-MetaDataConverter.html">
              MetaData and MetaDataConverter
            </a>
          </li>
            </ul>
          </li><li >
            <a href="../30-Implementation/50-Official_Markdown_Tests.html">
              The Official Tests
            </a>
          </li><li>
            <span class="group">Utilities</span>
            <ul>
              <li >
            <a href="../30-Implementation/80-Utilities/01-String_Extras.html">
              StringExtras
            </a>
          </li><li >
            <a href="../30-Implementation/80-Utilities/02-ColoredLogger.html">
              ColoredLogger
            </a>
          </li>
            </ul>
          </li>
            </ul>
          </li></ul></div>
      <div class="article span-13 prepend-1 last"><h1>Recipes</h1><p>To run the code, import the <code>DefaultDiscounter</code>:
</p><pre><code class="prettyprint">import com.tristanhunt.knockoff.DefaultDiscounter._
</code></pre><h3>Get the Block Sequence</h3><pre><code class="prettyprint">val blocks = knockoff( markdownString )
</code></pre><h3>... Make an XHTML Fragment</h3><pre><code class="prettyprint">toXML( blocks ).toString
</code></pre><h3>Grab The First Header</h3><pre><code class="prettyprint">blocks.filterType( Headers ).firstOption {
  case Some( header ) =&gt; header.text
  case None =&gt; &quot;no header!&quot;
}
</code></pre><h3>Create an HTML Page</h3><p>Just a little inspiration of what you can do with Scala:
</p><pre><code class="prettyprint">import com.tristanhunt.knockoff._

class Page( val markdown : String, val discounter : Discounter ) {

  def html = &quot;&lt;!doctype html&gt;\n&quot; + &lt;html&gt;{ head }{ body }&lt;/html&gt;
  def head = &lt;head&gt;&lt;title&gt;{ titleContent }&lt;/title&gt;&lt;/head&gt;
  def body = &lt;body&gt;{ blocks.toXML }&lt;/body&gt;
  
  lazy val blocks = discounter.knockoff( markdown )
  
  def titleContent =
    filterType( Headers ).firstOption {
      case Some( header ) =&gt; header.text
      case None =&gt; &quot;&quot;
    }
}
</code></pre><h3>Prettify the Code Blocks</h3><p>An example of how to tweak the object model.
</p><p>First, extend the <code>CodeBlock</code> to write the extra <code>class</code> attribute.
</p><pre><code class="prettyprint">class   PrettifiedCodeBlock( text : Text, pos : Position )
extends CodeBlock( text, pos ) {

  override def toXML : Node =
    &lt;pre&gt;&lt;code class=&quot;prettyprint&quot;&gt;{ preformatted }&lt;/code&gt;&lt;/pre&gt;
}
</code></pre><p>Then setup the factory to create your <code>PrettifiedCodeBlock</code> instead.
</p><pre><code class="prettyprint">
trait PrettyDiscounter extends Discounter {
  override def elementFactory = new ElementFactory {
    override def codeBlock( t : Text, p : Position ) : CodeBlock =
      new PrettifiedCodeBlock( t, p )
  }
}
</code></pre><p>You'll have to create your own <code>Discounter</code> type now, however:
</p><pre><code class="prettyprint">object MyDiscounter extends PrettyDiscounter
import MyDiscounter._
</code></pre></div>
      <div class="footer span-22 prepend-1 append-1 last">
      
    </div>
    </div></body>
      </html>