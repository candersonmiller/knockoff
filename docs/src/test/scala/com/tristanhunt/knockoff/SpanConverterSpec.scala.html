<!DOCTYPE html>
<html lang="en">
<head>
  <title>SpanConverterSpec.scala</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="../../../../../../res/style.css"></style>
  <script type="text/javascript" 
    src="../../../../../../res/jquery.js"></script>
</head>
<body>
  <div id="container">
    <h1 class="title">SpanConverterSpec.scala&nbsp;<span class="change-link">Change</span></h1>
    <ul id="nav-list" class="hidden">
                    
                <li><a href="../../../../../../src/main/scala/com/tristanhunt/knockoff/Discounter.scala.html">src/main/scala/com/tristanhunt/knockoff/Discounter.scala</a></li>
                                
                <li><a href="../../../../../../src/main/scala/com/tristanhunt/knockoff/MarkdownParsing.scala.html">src/main/scala/com/tristanhunt/knockoff/MarkdownParsing.scala</a></li>
                                
                <li><a href="../../../../../../src/main/scala/com/tristanhunt/knockoff/ObjectModel.scala.html">src/main/scala/com/tristanhunt/knockoff/ObjectModel.scala</a></li>
                                
                <li><a href="../../../../../../src/main/scala/com/tristanhunt/knockoff/StringExtras.scala.html">src/main/scala/com/tristanhunt/knockoff/StringExtras.scala</a></li>
                                
                <li><a href="../../../../../../src/main/scala/com/tristanhunt/knockoff/TextWriter.scala.html">src/main/scala/com/tristanhunt/knockoff/TextWriter.scala</a></li>
                                
                <li><a href="../../../../../../src/main/scala/com/tristanhunt/knockoff/XHTMLWriter.scala.html">src/main/scala/com/tristanhunt/knockoff/XHTMLWriter.scala</a></li>
                                
                <li><a href="../../../../../../src/test/scala/com/tristanhunt/knockoff/ChunkParsersSpec.scala.html">src/test/scala/com/tristanhunt/knockoff/ChunkParsersSpec.scala</a></li>
                                
                <li><a href="../../../../../../src/test/scala/com/tristanhunt/knockoff/KnockoffIntegrationTests.scala.html">src/test/scala/com/tristanhunt/knockoff/KnockoffIntegrationTests.scala</a></li>
                                
                <li class="active">src/test/scala/com/tristanhunt/knockoff/SpanConverterSpec.scala</li>
                                
                <li><a href="../../../../../../src/test/scala/com/tristanhunt/knockoff/StringExtrasSpec.scala.html">src/test/scala/com/tristanhunt/knockoff/StringExtrasSpec.scala</a></li>
                        </ul>
    <table><tbody><tr><td></td><td><div class="highlight"><pre><span class="k">package</span> <span class="nn">com.tristanhunt.knockoff</span>
</pre></div>
</td></tr><tr><td><p>import org.junit.runner.RunWith</p></td><td><div class="highlight"><pre><span class="k">import</span> <span class="nn">org.scalatest.junit.JUnitRunner</span>
<span class="k">import</span> <span class="nn">org.scalatest._</span>
<span class="k">import</span> <span class="nn">org.scalatest.matchers._</span>
<span class="k">import</span> <span class="nn">scala.util.parsing.input.NoPosition</span>
</pre></div>
</td></tr><tr><td><p>@RunWith(classOf[JUnitRunner])</p></td><td><div class="highlight"><pre><span class="k">class</span> <span class="nc">SpanConverterSpec</span> <span class="k">extends</span> <span class="nc">Spec</span> <span class="k">with</span> <span class="nc">ShouldMatchers</span> <span class="o">{</span>

  <span class="k">def</span> <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="k">:</span> <span class="kt">String</span> <span class="o">)</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Span</span><span class="o">]</span> <span class="k">=</span> <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span><span class="o">,</span> <span class="nc">Nil</span> <span class="o">)</span>
  
  <span class="k">def</span> <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">defs</span> <span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">LinkDefinitionChunk</span><span class="o">]</span> <span class="o">)</span> <span class="k">:</span> <span class="kt">List</span><span class="o">[</span><span class="kt">Span</span><span class="o">]</span> <span class="k">=</span>
    <span class="k">new</span> <span class="nc">SpanConverter</span><span class="o">(</span> <span class="n">defs</span> <span class="o">)(</span> <span class="nc">TextChunk</span><span class="o">(</span><span class="n">txt</span><span class="o">)</span> <span class="o">).</span><span class="n">toList</span>

  <span class="n">describe</span><span class="o">(</span><span class="s">&quot;SpanConverter&quot;</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">it</span><span class="o">(</span> <span class="s">&quot;should parse a couple of single code blocks in text&quot;</span> <span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;a `code1` and a `code 2`&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;a &quot;</span><span class="o">),</span> <span class="nc">CodeSpan</span><span class="o">(</span><span class="s">&quot;code1&quot;</span><span class="o">),</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; and a &quot;</span><span class="o">),</span> <span class="nc">CodeSpan</span><span class="o">(</span><span class="s">&quot;code 2&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should not care about other elements in the code&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;This `code block *with em*` is OK&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;This &quot;</span><span class="o">),</span> <span class="nc">CodeSpan</span><span class="o">(</span> <span class="s">&quot;code block *with em*&quot;</span> <span class="o">),</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; is OK&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;double-tick code markers should preserve whitespace&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;AA `` ` `` BB&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;AA &quot;</span><span class="o">),</span> <span class="nc">CodeSpan</span><span class="o">(</span><span class="s">&quot; ` &quot;</span><span class="o">),</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; BB&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should match emphasis underscores containing asterix emphases&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;an _underscore *and block* em_&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;an &quot;</span><span class="o">),</span>
              <span class="nc">Emphasis</span><span class="o">(</span>
                <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;underscore &quot;</span><span class="o">),</span>
                      <span class="nc">Emphasis</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;and block&quot;</span><span class="o">)</span> <span class="o">::</span> <span class="nc">Nil</span> <span class="o">),</span>
                      <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; em&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>

    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should match strong underscores containing asterix emphases&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;an __underscore **and asterix** strong__&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;an &quot;</span><span class="o">),</span>
              <span class="nc">Strong</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;underscore &quot;</span><span class="o">),</span>
                            <span class="nc">Strong</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;and asterix&quot;</span><span class="o">))</span> <span class="o">),</span>
                            <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; strong&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span> <span class="o">)</span>
      <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should find an &lt;a&gt; and an &lt;img&gt;&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;&quot;&quot;with &lt;a href=&quot;</span><span class="n">http</span><span class="k">:</span>
</pre></div>
</td></tr><tr><td><p>example.com&quot;&gt;a link&lt;/a&gt; and an 
                  |<img src="foo.img"/> ha!&quot;&quot;&quot;.stripMargin</p></td><td><div class="highlight"><pre>      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;with &quot;</span><span class="o">),</span>
              <span class="nc">HTMLSpan</span><span class="o">(</span><span class="s">&quot;&quot;&quot;&lt;a href=&quot;</span><span class="n">http</span><span class="k">:</span>
</pre></div>
</td></tr><tr><td><p>example.com&quot;&gt;a link&lt;/a&gt;&quot;&quot;&quot;),</p></td><td><div class="highlight"><pre>              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; and an \n&quot;</span><span class="o">),</span> <span class="nc">HTMLSpan</span><span class="o">(</span><span class="s">&quot;&quot;&quot;&lt;img src=&quot;foo.img&quot;/&gt;&quot;&quot;&quot;</span><span class="o">),</span>
              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; ha!&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should wrap a &lt;span&gt; that contains another &lt;span&gt;&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;&quot;&quot;a &lt;span class=&quot;container&quot;&gt;contains &lt;span&gt;something&lt;/span&gt;</span>
<span class="s">                  | else&lt;/span&gt; without a problem &lt;br /&gt; !&quot;&quot;&quot;</span><span class="o">.</span><span class="n">stripMargin</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;a &quot;</span><span class="o">),</span>
              <span class="nc">HTMLSpan</span><span class="o">(</span> <span class="s">&quot;&quot;&quot;&lt;span class=&quot;container&quot;&gt;contains &quot;&quot;&quot;</span> <span class="o">+</span>
                        <span class="s">&quot;&lt;span&gt;something&lt;/span&gt;\n else&lt;/span&gt;&quot;</span> <span class="o">),</span>
              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; without a problem &quot;</span><span class="o">),</span> <span class="nc">HTMLSpan</span><span class="o">(</span><span class="s">&quot;&lt;br /&gt;&quot;</span><span class="o">),</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; !&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should find a couple of entities and pass them through&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;an &amp;amp; and an &amp;em; are in here&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;an &quot;</span><span class="o">),</span> <span class="nc">HTMLSpan</span><span class="o">(</span><span class="s">&quot;&amp;amp;&quot;</span><span class="o">),</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; and an &quot;</span><span class="o">),</span> <span class="nc">HTMLSpan</span><span class="o">(</span><span class="s">&quot;&amp;em;&quot;</span><span class="o">),</span>
              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; are in here&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should handle HTML headers defined in text&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;&lt;h2 id=\&quot;overview\&quot;&gt;Overview&lt;/h2&gt;&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">HTMLSpan</span><span class="o">(</span><span class="s">&quot;&lt;h2 id=\&quot;overview\&quot;&gt;Overview&lt;/h2&gt;&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should discover inline, image, automatic, and reference links&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">defs</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span> <span class="k">new</span> <span class="nc">LinkDefinitionChunk</span><span class="o">(</span> <span class="s">&quot;link1&quot;</span><span class="o">,</span> <span class="s">&quot;http://example.com&quot;</span><span class="o">,</span>
                                                <span class="nc">Some</span><span class="o">(</span><span class="s">&quot;title&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;A [link](http://example.com/link1) &quot;</span> <span class="o">+</span>
                <span class="s">&quot;An ![image link](http://example.com/image1 \&quot;image test\&quot;) &quot;</span> <span class="o">+</span>
                <span class="s">&quot;The &lt;http://example.com/automatic&gt; A [reference link] [link1]&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span><span class="o">,</span> <span class="n">defs</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;A &quot;</span><span class="o">),</span>
              <span class="nc">Link</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;link&quot;</span><span class="o">)),</span> <span class="s">&quot;http://example.com/link1&quot;</span><span class="o">,</span> <span class="nc">None</span> <span class="o">),</span>
          		<span class="nc">Text</span><span class="o">(</span><span class="s">&quot; An &quot;</span><span class="o">),</span>
              <span class="nc">ImageLink</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;image link&quot;</span><span class="o">)),</span> <span class="s">&quot;http://example.com/image1&quot;</span><span class="o">,</span>
                         <span class="nc">Some</span><span class="o">(</span><span class="s">&quot;image test&quot;</span><span class="o">)</span> <span class="o">),</span>
              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; The &quot;</span><span class="o">),</span>
              <span class="nc">Link</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;http://example.com/automatic&quot;</span><span class="o">)),</span>
                    <span class="s">&quot;http://example.com/automatic&quot;</span><span class="o">,</span> <span class="nc">None</span> <span class="o">),</span>
              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; A &quot;</span><span class="o">),</span>
              <span class="nc">Link</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;reference link&quot;</span><span class="o">)),</span> <span class="s">&quot;http://example.com&quot;</span><span class="o">,</span>
                    <span class="nc">Some</span><span class="o">(</span><span class="s">&quot;title&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should hande link references in different case&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">defs</span> <span class="k">=</span> <span class="nc">List</span><span class="o">(</span> <span class="k">new</span> <span class="nc">LinkDefinitionChunk</span><span class="o">(</span> <span class="s">&quot;link 1&quot;</span><span class="o">,</span> <span class="s">&quot;http://example.com/1&quot;</span><span class="o">,</span>
                                                <span class="nc">None</span> <span class="o">),</span>
                       <span class="k">new</span> <span class="nc">LinkDefinitionChunk</span><span class="o">(</span> <span class="s">&quot;link 2&quot;</span><span class="o">,</span> <span class="s">&quot;http://example.com/2&quot;</span><span class="o">,</span>
                                                <span class="nc">None</span> <span class="o">)</span> <span class="o">)</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;[Link 1][] and [link 2][]&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span><span class="o">,</span> <span class="n">defs</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Link</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;Link 1&quot;</span><span class="o">)),</span> <span class="s">&quot;http://example.com/1&quot;</span><span class="o">,</span> <span class="nc">None</span> <span class="o">),</span>
              <span class="nc">Text</span><span class="o">(</span><span class="s">&quot; and &quot;</span><span class="o">),</span>
              <span class="nc">Link</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span><span class="nc">Text</span><span class="o">(</span><span class="s">&quot;link 2&quot;</span><span class="o">)),</span> <span class="s">&quot;http://example.com/2&quot;</span><span class="o">,</span> <span class="nc">None</span> <span class="o">)</span> <span class="o">)</span> <span class="o">}</span>
    <span class="o">}</span>
  
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should escape asterixes in content&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;&quot;&quot;an \*escaped\* emphasis&quot;&quot;&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;&quot;&quot;an \*escaped\* emphasis&quot;&quot;&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should escape backticks in content&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;&quot;&quot;an escaped \&#39; backtick&quot;&quot;&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span><span class="o">(</span> <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;&quot;&quot;an escaped \&#39; backtick&quot;&quot;&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span>
    <span class="o">}</span>
      
    <span class="n">it</span><span class="o">(</span><span class="s">&quot;should ignore backslashes in code&quot;</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">val</span> <span class="n">txt</span> <span class="k">=</span> <span class="s">&quot;&quot;&quot;a backslash `\` in code&quot;&quot;&quot;</span>
      <span class="n">convert</span><span class="o">(</span> <span class="n">txt</span> <span class="o">)</span> <span class="n">should</span> <span class="n">equal</span><span class="o">(</span>
        <span class="nc">List</span><span class="o">(</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;&quot;&quot;a backslash &quot;&quot;&quot;</span><span class="o">),</span> <span class="nc">CodeSpan</span><span class="o">(</span><span class="s">&quot;\\&quot;</span><span class="o">),</span> <span class="nc">Text</span><span class="o">(</span><span class="s">&quot;&quot;&quot; in code&quot;&quot;&quot;</span><span class="o">)</span> <span class="o">)</span> <span class="o">)</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></tbody></table>
  </div>
<script type="text/javascript">
$(function() {
    var $navList = $("#nav-list"),
        $change = $(".title .change-link");
    
    $change.click(function() { $navList.toggleClass("hidden") });
});
</script>
</body>
</html>
